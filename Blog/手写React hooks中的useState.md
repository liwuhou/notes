---
title: React Hooks的源码解读和简易实现
date: 2021-07-27
tags: 
  - JavaScript
  - React
summary: 这周二在公司组织了一场关于React hooks的分享会，根据 React 的源码，实现了一个不到一百行的简易 useState。
---

自从React 16.8 版本 发布以来，带来了 Hooks 等特性，可以说彻底颠覆了 React 以往的开发模式。在 hooks 诞生之前，开发者们喜欢用 FC 来开发，它简单、可控，还能少写很多代码。但是，在一些场景中，由于 FC 缺少类组件的生命周期钩子和状态管理等特性，使得它处理一些状态管理和副作用的情况下显得力不从心。
开发者们为了能即保存 FC 的纯粹可控，又能像类组件那样具有生命周期等 React 组件的功能，采用了诸如高阶组件（HOC）和 render props等高级开发模式，无形中增加了开发的复杂度和心智负担，甚至还一度出现了“有逻辑的不渲染，能渲染的没逻辑”等黑话。不论 HOC 和 render props 这些高级编程模式，光是 class 组件中，那些大而全的概念和又长又多的 api 都能让初学者望而却步。hooks 的横空出世，不仅赋能函数式组件也能做到类组件能做的事情，也更加践行了 React 团队一直说的“代数效应”。

