[[计算机网络原理#拥塞控制]]

拥塞窗口(congWin)：控制发送方能够发送的最大报文段数量，单位是 Mss(Maximum Segment Size)
阈值(Threshold)：慢启动中限制拥塞窗口的临界值

TCP 中对拥塞控制得益于四种算法，分别是慢启动、拥塞避免、快速重传和快速恢复

### 慢启动
在发送方刚向网络发送数据的时候，拥塞窗口此时是 1Mss，每经过 1个RTT 的时间，拥塞窗口就增大一倍，初始的阈值为 16Mss，拥塞窗口中经过翻倍的时候，不能超过阈值

### 拥塞避免
当拥塞窗口大于或等于阈值的时候，每经过 1个RTT 的时间，拥塞窗口就 +1Mss

### 快速重传
当接收端收到三次重复确认时，则推断被重复确认的报文段已经丢失了，于是立即发送需要重传的报文段。这个时候的网络拥塞程度还不算很严重

### 快速恢复
当发送了三次重复确认时，TCP 会对发送方进行拥塞控制
当前阈值会降为当前拥塞窗口的一半
拥塞窗口接着调整为新的阈值，也就是原本拥塞窗口中的一半大小
调整好新的阈值和拥塞窗口之后，使用拥塞避免算法去增加拥塞窗口大小

> 快速重传和快速恢复组合经常用来解决三次重复确认的情况

当计时器超时的情况，说明网络拥塞程度已经很严重了，这个时候对拥塞窗口和阈值的调整会采用另外的策略：
当前阈值还是会降为当前拥塞窗口的一半
**拥塞窗口直接降为 1Mss**
调整好新的阈值和拥塞窗口后，使用慢启动+拥塞避免算法去增加拥塞窗口的大小

TCP 窗口调整的基本策略(Additive Increase, Multiplicative Decrease, AIMD)
网络未拥塞的时候，“加性”地增大窗口
网络拥塞的时候，“乘性”地减小窗口