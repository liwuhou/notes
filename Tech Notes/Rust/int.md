Rust 中的数值类型有两大类：整数和浮点数。

### 整数类型

整数是没有小数部分的数字，在 Rust 中，整数还分为有符号类整数和无符号类整数。

| 长度       | 有符号类型 | 无符号类型 |
| ---------- | ---------- | ---------- |
| 8 位       | `i8`       | `u8`       |
| 16 位      | `i16`      | `u16`      |
| 32 位      | `i32`      | `u32`      |
| 64 位      | `i64`      | `u64`      |
| 128 位     | `i128`     | `u128`     |
| 视架构而定 | `isize`    | `usize`    |

观察上述可知，类型定义的形式统一为：`有无符号 + 类型大小（位数）`。

**无符号数**表示数字只能取正数，而**有符号**则表示数字即可以取正数又可以取负数。就像在纸上写数字一样：当要强调符号时，数字前面可以带上正号或负号；然而，当很明显确定数字为正数时，就不需要加上正号了。有符号数字以[补码](https://en.wikipedia.org/wiki/Two%27s_complement)形式存储。

有符号位除了可以表示正数，还能表示负数，比如 `i8` 表示 $-(2^7)$ ~ $2^7-1$ = -128 ~ 127，而`u8` 则表示 0 ~ $2^8-1$ = 0 ~ 255。即`in`可以表示的数字范围是 $-(2^{n-1})$ ～ $2^{n-1}-1$，而 `un` 可以表示的数字范围是 0~$2^{n - 1}$。

此外 `isize` 和 `usize` 类型是取决于程序运行的计算机 cpu 类型。若 cpu 是 32 位的，则这两个类型都是 32 位的，同理，或 cpu 是 64 位的，则它们是 64 位的。

在 Rust 中，整型默认使用 `i32`，例如 `let i = 32;`，`i` 则为 32 位有符号整型类型。

### 浮点类型

浮点即带有小数点的数字，在 Rust 中浮点数有两种基本类型，`f32` 和 `f64`，分别为 32 位和 64 位大小。默认的浮点类型为 `f64`，在现代的 cpu 中，它的速度几乎与 `f32` 相同，但精度更高。

```rust
fn main() {
  let x = 2.0; // f64

  let y: f32 = 3.0 // f32
}
```

浮点数根据 `IEEE-754` 标准实现，`f32` 类型是单精度类型，`f64` 类型是双精度类型。

### NaN

对于数学上未定义的结果，例如负数平方根 `(-42.0_f32).sqrt()`，会产生一个特殊的结果：Rust 的浮点数类型使用 `NaN` (not a number，js 开发者狂喜)来处理这种情况。

与 js 类似，所有与 `NaN` 运算、交互都会返回 `NaN`。而在 Rust 中，NaN 不能用来比较，会导致程序崩溃

```rust
fn main() {
  let x = (-42.0_f32).sqrt();

  assert_eq!(x, x); // panic
}
```

出于防御性编程，可以使用 `is_nan()` 来判断是否为 `NaN`

```rust
fn main() {
  let x = (-42.0_f32).sqrt();

  if (x.is_nan) {
    println!("未定义的数字行为");
  }
}
```

### 位运算

Rust 的位运算基本上同其它的语言一样

| 运算符    | 说明                                |
| --------- | ----------------------------------- |
| \& 位与   | 相同位置均为 1 时则为 1，否则为 0   |
| \| 位或   | 相同位置只要有 1 时则为 1，否则为 0 |
| \^ 位异或 | 相同位置不相同则为 1，相同则为 0    |
| \! 位非   | 把位中的 0 和 1 相互取反            |
| \<\< 左移 | 所有位向左移动指定位数，右位补零    |
| \>\> 右移 | 所有位向右移动指定位数，左位补零    |

### 序列

Rust 提供了一种非常简洁的方法来生成数字序列，例如 `1..5` 表示从 1 到 4 的序列，而 `1..=5` 则是 1 到 5 的数字序列，常用于循环中。

```rust
for i in 1..5 {
  println!('{}', i);
}
```
